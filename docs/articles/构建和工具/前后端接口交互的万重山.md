现在正在做的一个项目，前端功能页面稍微复杂一些，有比较多的交互。相应的逻辑代码、数据处理也比较多。在我拿到高保真，进行前端开发的时候，后端还在设计阶段。等我纯前端部分基本完工，后端开始提供接口的时候，由于接口返回内容与我已经实现的功能有冲突，几乎每个接口都要进行几次来回沟通，还不可避免的要对已经完成的功能进行一定的返工。过程实在痛苦。

本来前端对于数据的结构依赖是很轻的。json格式可以很方便的对数据进行各种变形。如果后端能较早的提供一个比较稳定的返回结果约定给前端，前端以此去实现功能，并没有太多额外的负担。但真实情况经常是，当前端已经进入开发阶段的时候，后端还在概要设计或者详细设计阶段，并不能提供一个合理的返回数据。
而从前后职责上来讲，后端的职责是为前端提供显示需要的数据，理应按照前端的要求提供接口返回的内容。当然这也仅仅是理想情况。后端由于需要对接额外系统、spring代码的数据持久化、JAVA本身的特性等，在每个接口里把从其他地方获取的数据都转换为完全按照前端要求的格式，估计后端开发也要爆炸。

我想在前端开发工程师不遗余力的推行前后端分离的时候，这个问题一定会出现。如果你们的团队比较固定，或者你们有良好的文档管理，或者你们的前后端开发始终保持协同一致（正常的项目不都应该是这样的么。。。），那这就不是一个太大的问题。如果你也像我们这里一样，前端作为支援部门，支撑整个事业部的业务，每个项目与你合作的都是不同的后端开发，他们有不同的管理风格，每个人的沟通能力也都不同，那这个接口问题就会变得非常棘手。

沟通当然是必要的，但在一套优秀的开发流程里，沟通应该是一剂润滑剂和补充剂。更有效的是规范。如何让前后端的接口成为规范，接口文档是一个技术成本很低的解决方法：在开发前，前后端先编写一套接口文档，然后按照文档去挨个实现功能。缺点是文档的功能性太弱了。对于前端来讲，它不能提供真正的数据，它只是一个指导说明。在后端提供真正能调用的接口前，前端还是需要去用各种mock方法、造假数据来为自己的开发服务。对于后端来说，它也不具备非常强的约束能力。后端随时会因为各种原因修改接口文档（甚至不维护接口文档）。到了项目后期或者进入测试阶段，几乎前后端都不再愿意去维护这么一份文档，接口也就随时处于不可控状态了。

这个问题当然也已经不是个新问题了。所以也已经有比较知名的工具来解决这个问题，比如我们曾经在项目中使用过的[swagger](http://swagger.io/)。没有额外的维护负担，你所需要的只是在后端开发时，加入一些注解。但它的致命问题在于：对前端不友好。这是一个纯后端的解决思路。只有在后端代码编写后，你才能通过swagger看到相关的信息。既然项目引入了swagger工具，前端就没有理由要求后端提供额外的接口文档了。意味着只能等待后端编码后，才能通过swagger获知接口相关的内容。看似解决了问题，其实本质是让前端把工作压后。既然后端已经实现相关功能了（最起码接口名称、返回的数据VO都已经明确了），那我直接去看后端代码就OK了。swagger只是把它变得更好看了而已。

那从前端的角度，我们需要什么样的工具来维护接口，并且确实能对我们提供有利的帮助呢？我觉得它至少要能有下面的功能：
1. 不影响前端的开发进度，在前端开发前就能准备好为前端服务
2. 对后端有约束力，接口不能随意变动（在业务不变的前提下）
3. 0成本让接口在mock数据和真实数据直接切换
我的同事自己做了一个接口管理的网站：[apix](https://github.com/huangtengfei/apix)。他只达成了条件1、2，在实用中已经能解决大部分问题了。

那么基于这一解决方案，再往深处发展。其实是在前后端建立了一个中间层服务。类似于现在很多大公司用nodejs隔离前后端。这个中间层实现对前后端api的完整服务：开发期为前端提供mock服务，为后端提供调用接口请求测试接口；在生产环境，作为api的代理服务器，可以为api实现额外的过滤、转发等等工作。这样可以真正的完成前后端分离。前端开发完全不依赖后端环境。